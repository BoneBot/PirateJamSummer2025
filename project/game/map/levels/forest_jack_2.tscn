[gd_scene load_steps=19 format=3 uid="uid://ww2l6g0ot35s"]

[ext_resource type="Script" path="res://game/map/levels/forest_jack_2.gd" id="1_2k5s3"]
[ext_resource type="Texture2D" uid="uid://dkyoabcf4c8cm" path="res://art/Background Assets/forest_m.png" id="2_2ihq0"]
[ext_resource type="PackedScene" uid="uid://mkoy0yv4trc6" path="res://game/map/obstacles/vine_door.tscn" id="3_ur1or"]
[ext_resource type="PackedScene" uid="uid://b2i6551t30h8f" path="res://game/map/interactables/forest_exit.tscn" id="4_andg2"]
[ext_resource type="PackedScene" uid="uid://dd0kl255gfdkd" path="res://game/map/interactables/block.tscn" id="5_r0fct"]
[ext_resource type="PackedScene" uid="uid://b0xbrb221dj6h" path="res://game/map/interactables/block_button.tscn" id="6_6awmb"]
[ext_resource type="Script" path="res://game/common/interactable.gd" id="7_nae5s"]
[ext_resource type="PackedScene" uid="uid://cbd1bti25e811" path="res://game/map/cosmetics/bush_forward_end.tscn" id="8_vr3fn"]
[ext_resource type="PackedScene" uid="uid://dfs7qkxlas2oe" path="res://game/map/cosmetics/bush_forward_middle.tscn" id="9_ut8wc"]
[ext_resource type="PackedScene" uid="uid://cxt2kq60nakfn" path="res://game/characters/player.tscn" id="10_cowqq"]
[ext_resource type="PackedScene" uid="uid://dm4xqlc144gxx" path="res://game/characters/toy.tscn" id="11_mnfxk"]
[ext_resource type="PackedScene" uid="uid://dqcfv4th66b2w" path="res://game/characters/shadow.tscn" id="12_8sp7f"]
[ext_resource type="PackedScene" uid="uid://baupxuhlutjnh" path="res://game/ui/dialogue_manager.tscn" id="13_n03jd"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_vy0r0"]
normal = Vector2(1, 0)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_2wipv"]
normal = Vector2(0, 1)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_3btdi"]
normal = Vector2(-1, 0)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_qyicb"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_f0r7s"]
size = Vector2(56, 36)

[node name="ForestJack2" type="Node2D"]
script = ExtResource("1_2k5s3")

[node name="Background" type="Sprite2D" parent="."]
z_index = -1
texture = ExtResource("2_2ihq0")
centered = false
metadata/_edit_lock_ = true

[node name="Boundaries" type="Node2D" parent="."]

[node name="Left" type="StaticBody2D" parent="Boundaries"]
position = Vector2(24, 88)
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Boundaries/Left"]
shape = SubResource("WorldBoundaryShape2D_vy0r0")

[node name="Top" type="StaticBody2D" parent="Boundaries"]
position = Vector2(24, 88)
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Boundaries/Top"]
shape = SubResource("WorldBoundaryShape2D_2wipv")

[node name="Right" type="StaticBody2D" parent="Boundaries"]
position = Vector2(776, 450)
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Boundaries/Right"]
shape = SubResource("WorldBoundaryShape2D_3btdi")

[node name="Down" type="StaticBody2D" parent="Boundaries"]
position = Vector2(776, 450)
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Boundaries/Down"]
shape = SubResource("WorldBoundaryShape2D_qyicb")

[node name="Components" type="Node2D" parent="."]
y_sort_enabled = true

[node name="VineDoor" parent="Components" node_paths=PackedStringArray("forest_exit") instance=ExtResource("3_ur1or")]
position = Vector2(503, 97)
forest_exit = NodePath("ForestExit")

[node name="ForestExit" parent="Components/VineDoor" instance=ExtResource("4_andg2")]
visible = false
position = Vector2(1, -5)

[node name="Block" parent="Components" groups=["blocks"] instance=ExtResource("5_r0fct")]
position = Vector2(673, 240)
can_push = false

[node name="BlockButton" parent="Components" instance=ExtResource("6_6awmb")]
z_index = -1
position = Vector2(568, 301)

[node name="Interactable" type="Area2D" parent="Components/BlockButton"]
collision_layer = 8
collision_mask = 0
script = ExtResource("7_nae5s")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Components/BlockButton/Interactable"]
position = Vector2(0, 3)
shape = SubResource("RectangleShape2D_f0r7s")
debug_color = Color(0, 0.643979, 0.289855, 0.42)

[node name="IBush" type="Node2D" parent="Components"]
position = Vector2(376, 179)
metadata/_edit_group_ = true

[node name="BushForwardEnd" parent="Components/IBush" instance=ExtResource("8_vr3fn")]

[node name="BushForwardMiddle" parent="Components/IBush" instance=ExtResource("9_ut8wc")]
position = Vector2(0, -60)

[node name="IBush2" type="Node2D" parent="Components"]
position = Vector2(366, 379)
metadata/_edit_group_ = true

[node name="BushForwardEnd" parent="Components/IBush2" instance=ExtResource("8_vr3fn")]

[node name="BushForwardMiddle" parent="Components/IBush2" instance=ExtResource("9_ut8wc")]
position = Vector2(0, -49)

[node name="LBush" type="Node2D" parent="Components"]

[node name="Player" parent="." instance=ExtResource("10_cowqq")]
position = Vector2(103, 208)

[node name="Toy" parent="." node_paths=PackedStringArray("target") instance=ExtResource("11_mnfxk")]
position = Vector2(69, 211)
toy_sprite = "jack"
target = NodePath("")

[node name="Shadow" parent="." instance=ExtResource("12_8sp7f")]
visible = false
position = Vector2(404, 135)
scale = Vector2(-1, 1)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="DialogueManager" parent="CanvasLayer" instance=ExtResource("13_n03jd")]
dialogue_file = "res://game/ui/dialogue_text/forest_jack_1.json"
portrait_directory = "res://art/Portraits"
