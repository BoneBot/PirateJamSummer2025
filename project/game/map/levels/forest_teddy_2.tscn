[gd_scene load_steps=20 format=3 uid="uid://cdr7oh13wgny"]

[ext_resource type="Script" path="res://game/map/levels/forest_teddy_2.gd" id="1_6a830"]
[ext_resource type="Texture2D" uid="uid://cnaiiwxmsl06a" path="res://art/Background Assets/forest_m.png" id="2_785fb"]
[ext_resource type="PackedScene" uid="uid://b2i6551t30h8f" path="res://game/map/interactables/forest_exit.tscn" id="3_175tn"]
[ext_resource type="PackedScene" uid="uid://mkoy0yv4trc6" path="res://game/map/obstacles/vine_door.tscn" id="4_iuj2q"]
[ext_resource type="PackedScene" uid="uid://bud0dm577h017" path="res://game/map/interactables/dialogue_area.tscn" id="5_67xdl"]
[ext_resource type="PackedScene" uid="uid://uxjeys74s857" path="res://game/map/cosmetics/bush_single.tscn" id="6_aibsi"]
[ext_resource type="PackedScene" uid="uid://cjnhxuf3e0307" path="res://game/map/interactables/fading_rose.tscn" id="7_5lww7"]
[ext_resource type="PackedScene" uid="uid://cbd1bti25e811" path="res://game/map/cosmetics/bush_forward_end.tscn" id="7_w1v5e"]
[ext_resource type="PackedScene" uid="uid://dfs7qkxlas2oe" path="res://game/map/cosmetics/bush_forward_middle.tscn" id="8_exhcu"]
[ext_resource type="PackedScene" uid="uid://bbkexgwatal2p" path="res://game/map/cosmetics/bush_t_junction.tscn" id="9_b5gf8"]
[ext_resource type="PackedScene" uid="uid://brbcqo65qy71l" path="res://game/map/cosmetics/bush_side_middle.tscn" id="10_mor3v"]
[ext_resource type="PackedScene" uid="uid://cxt2kq60nakfn" path="res://game/characters/player.tscn" id="11_kgb43"]
[ext_resource type="PackedScene" uid="uid://dm4xqlc144gxx" path="res://game/characters/toy.tscn" id="12_tfbea"]
[ext_resource type="PackedScene" uid="uid://baupxuhlutjnh" path="res://game/ui/dialogue_manager.tscn" id="13_f0vuw"]
[ext_resource type="PackedScene" uid="uid://dqcfv4th66b2w" path="res://game/characters/shadow.tscn" id="14_pbnsf"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_lxcjf"]
normal = Vector2(1, 0)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_el26i"]
normal = Vector2(0, 1)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_yvusi"]
normal = Vector2(-1, 0)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_i8x2n"]

[node name="ForestTeddy2" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_6a830")

[node name="Background" type="Sprite2D" parent="."]
texture = ExtResource("2_785fb")
centered = false
metadata/_edit_lock_ = true

[node name="Boundaries" type="Node2D" parent="."]
metadata/_edit_lock_ = true

[node name="Left" type="StaticBody2D" parent="Boundaries"]
position = Vector2(24, 88)
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Boundaries/Left"]
shape = SubResource("WorldBoundaryShape2D_lxcjf")

[node name="Top" type="StaticBody2D" parent="Boundaries"]
position = Vector2(24, 88)
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Boundaries/Top"]
shape = SubResource("WorldBoundaryShape2D_el26i")

[node name="Right" type="StaticBody2D" parent="Boundaries"]
position = Vector2(776, 450)
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Boundaries/Right"]
shape = SubResource("WorldBoundaryShape2D_yvusi")

[node name="Down" type="StaticBody2D" parent="Boundaries"]
position = Vector2(776, 450)
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Boundaries/Down"]
shape = SubResource("WorldBoundaryShape2D_i8x2n")

[node name="Components" type="Node2D" parent="."]
y_sort_enabled = true

[node name="VineDoor" parent="Components" node_paths=PackedStringArray("forest_exit") instance=ExtResource("4_iuj2q")]
position = Vector2(437, 73)
forest_exit = NodePath("ForestExit")

[node name="ForestExit" parent="Components/VineDoor" instance=ExtResource("3_175tn")]
visible = false
position = Vector2(0, 12)

[node name="BushSingle" parent="Components" instance=ExtResource("6_aibsi")]
position = Vector2(686, 401)
metadata/_edit_group_ = true

[node name="FadingRose" parent="Components/BushSingle" groups=["roses"] instance=ExtResource("7_5lww7")]
position = Vector2(-23, -21)
fades = false

[node name="BushSingle2" parent="Components" instance=ExtResource("6_aibsi")]
position = Vector2(645, 170)
metadata/_edit_group_ = true

[node name="FadingRose" parent="Components/BushSingle2" groups=["roses"] instance=ExtResource("7_5lww7")]
position = Vector2(23, -8)
rotation = 0.398286
fades = false

[node name="BushSingle3" parent="Components" instance=ExtResource("6_aibsi")]
position = Vector2(335, 335)

[node name="BushSingle4" parent="Components" instance=ExtResource("6_aibsi")]
position = Vector2(424, 225)

[node name="BushSingle5" parent="Components" instance=ExtResource("6_aibsi")]
position = Vector2(113, 160)

[node name="LBush" type="Node2D" parent="Components"]
z_as_relative = false
y_sort_enabled = true
position = Vector2(189, 253)
metadata/_edit_group_ = true

[node name="BushForwardEnd" parent="Components/LBush" instance=ExtResource("7_w1v5e")]
position = Vector2(0, 109)

[node name="BushForwardMiddle" parent="Components/LBush" instance=ExtResource("8_exhcu")]
position = Vector2(0, 49)

[node name="BushTJunction" parent="Components/LBush" instance=ExtResource("9_b5gf8")]

[node name="BushSideMiddle" parent="Components/LBush" instance=ExtResource("10_mor3v")]
position = Vector2(-64, -2)

[node name="BushSideMiddle2" parent="Components/LBush" instance=ExtResource("10_mor3v")]
position = Vector2(-128, -2)

[node name="FadingRose" parent="Components/LBush" groups=["roses"] instance=ExtResource("7_5lww7")]
position = Vector2(-38, 52)
rotation = -1.05905
fades = false

[node name="IBush" type="Node2D" parent="Components"]
position = Vector2(323, 122)
metadata/_edit_group_ = true

[node name="BushForwardMiddle" parent="Components/IBush" instance=ExtResource("8_exhcu")]

[node name="BushForwardEnd" parent="Components/IBush" instance=ExtResource("7_w1v5e")]
position = Vector2(0, 60)

[node name="FadingRose" parent="Components/IBush" groups=["roses"] instance=ExtResource("7_5lww7")]
position = Vector2(-36, 4)
rotation = -0.501912
scale = Vector2(-1, 1)
fades = false

[node name="DialogueArea" parent="Components" instance=ExtResource("5_67xdl")]
position = Vector2(426, 400)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Components/DialogueArea"]
polygon = PackedVector2Array(-100, 47, -99, -62, 125, -63, 125, 49, 144, 49, 146, -85, -120, -85, -121, 47)

[node name="Player" parent="." instance=ExtResource("11_kgb43")]
y_sort_enabled = true
position = Vector2(439, 396)

[node name="Toy" parent="." node_paths=PackedStringArray("target") instance=ExtResource("12_tfbea")]
position = Vector2(388, 411)
toy_sprite = "teddy"
target = NodePath(".")

[node name="Shadow" parent="." instance=ExtResource("14_pbnsf")]
visible = false
position = Vector2(414, 174)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="DialogueManager" parent="CanvasLayer" instance=ExtResource("13_f0vuw")]
dialogue_file = "res://game/ui/dialogue_text/forest_teddy_2.json"
portrait_directory = "res://art/Portraits"

[connection signal="body_entered" from="Components/VineDoor/ForestExit" to="." method="_on_forest_exit_body_entered"]
[connection signal="dialogue_triggered" from="Components/DialogueArea" to="." method="_on_dialogue_area_dialogue_triggered"]
